{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _jsxFileName = \"C:\\\\Users\\\\guymu\\\\Desktop\\\\bootCamp\\\\final-hack\\\\final-project\\\\client\\\\src\\\\components\\\\LogIn.js\";\n\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { observer, inject } from \"mobx-react\";\nvar LogIn = (_dec = inject(\"store\"), _dec(_class = observer(_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LogIn, _Component);\n\n  function LogIn() {\n    var _this;\n\n    _classCallCheck(this, LogIn);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LogIn).call(this));\n\n    _this.getInfo = function (event) {\n      var user = _this.state.User;\n      user[event.target.name] = event.target.value;\n\n      _this.setState({\n        User: user\n      });\n    };\n\n    _this.logInUser = function () {\n      var answe = _this.props.store.userLogIn(_this.state.User).then(function (data) {\n        if (data === true) {\n          _this.props.getProducts();\n\n          _this.props.getUsers();\n\n          _this.setState({\n            redirectTo: \"/home\"\n          });\n        } else {}\n      });\n    };\n\n    _this.state = {\n      User: {\n        Name: \"\",\n        Password: \"\"\n      },\n      message: {\n        text: \"\",\n        show: false\n      },\n      redirectTo: null\n    };\n    return _this;\n  }\n\n  _createClass(LogIn, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var logIn = JSON.parse(localStorage.getItem(\"user\"));\n\n      if (logIn) {\n        this.setState({\n          redirectTo: \"/home\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.redirectTo === null) {\n        return React.createElement(\"div\", {\n          className: \"Login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Login1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Login-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"register-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"register\"))), React.createElement(\"input\", {\n          onChange: function onChange(event) {\n            _this2.getInfo(event);\n          },\n          name: \"Name\",\n          placeholder: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          onChange: function onChange(event) {\n            _this2.getInfo(event);\n          },\n          name: \"Password\",\n          placeholder: \"Password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.logInUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"log in\")));\n      } else {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return LogIn;\n}(Component)) || _class) || _class);\nexport default LogIn;","map":{"version":3,"sources":["C:\\Users\\guymu\\Desktop\\bootCamp\\final-hack\\final-project\\client\\src\\components\\LogIn.js"],"names":["React","Component","Link","Redirect","observer","inject","LogIn","getInfo","event","user","state","User","target","name","value","setState","logInUser","answe","props","store","userLogIn","then","data","getProducts","getUsers","redirectTo","Name","Password","message","text","show","logIn","JSON","parse","localStorage","getItem","pathname"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,YAAjC;IAIMC,K,WAFLD,MAAM,CAAC,OAAD,C,gBACND,Q;;;;;AAEC,mBAAc;AAAA;;AAAA;;AACZ;;AADY,UAgBdG,OAhBc,GAgBJ,UAAAC,KAAK,EAAI;AACjB,UAAIC,IAAI,GAAG,MAAKC,KAAL,CAAWC,IAAtB;AACAF,MAAAA,IAAI,CAACD,KAAK,CAACI,MAAN,CAAaC,IAAd,CAAJ,GAA0BL,KAAK,CAACI,MAAN,CAAaE,KAAvC;;AACA,YAAKC,QAAL,CAAc;AACZJ,QAAAA,IAAI,EAAEF;AADM,OAAd;AAGD,KAtBa;;AAAA,UAuBdO,SAvBc,GAuBF,YAAM;AAChB,UAAIC,KAAK,GAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,SAAjB,CAA2B,MAAKV,KAAL,CAAWC,IAAtC,EAA4CU,IAA5C,CAAiD,UAAAC,IAAI,EAAI;AACnE,YAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,gBAAKJ,KAAL,CAAWK,WAAX;;AACA,gBAAKL,KAAL,CAAWM,QAAX;;AACA,gBAAKT,QAAL,CAAc;AACZU,YAAAA,UAAU,EAAE;AADA,WAAd;AAGD,SAND,MAMO,CACN;AACF,OATW,CAAZ;AAUD,KAlCa;;AAEZ,UAAKf,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE;AAAEe,QAAAA,IAAI,EAAE,EAAR;AAAYC,QAAAA,QAAQ,EAAE;AAAtB,OADK;AAEXC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,IAAI,EAAE,EAAR;AAAYC,QAAAA,IAAI,EAAE;AAAlB,OAFE;AAGXL,MAAAA,UAAU,EAAE;AAHD,KAAb;AAFY;AAOb;;;;wCACmB;AAClB,UAAIM,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAZ;;AACA,UAAIJ,KAAJ,EAAW;AACT,aAAKhB,QAAL,CAAc;AACZU,UAAAA,UAAU,EAAE;AADA,SAAd;AAGD;AACF;;;6BAoBQ;AAAA;;AACP,UAAI,KAAKf,KAAL,CAAWe,UAAX,KAA0B,IAA9B,EAAoC;AAClC,eACE;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,CADF,EAME;AACE,UAAA,QAAQ,EAAE,kBAAAjB,KAAK,EAAI;AACjB,YAAA,MAAI,CAACD,OAAL,CAAaC,KAAb;AACD,WAHH;AAIE,UAAA,IAAI,EAAC,MAJP;AAKE,UAAA,WAAW,EAAC,MALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANF,EAaE;AACE,UAAA,QAAQ,EAAE,kBAAAA,KAAK,EAAI;AACjB,YAAA,MAAI,CAACD,OAAL,CAAaC,KAAb;AACD,WAHH;AAIE,UAAA,IAAI,EAAC,UAJP;AAKE,UAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAbF,EAoBE;AAAQ,UAAA,OAAO,EAAE,KAAKQ,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBApBF,CADF,CADF;AA0BD,OA3BD,MA2BO;AACL,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAAEoB,YAAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAWe;AAAvB,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF;;;;EAnEiBxB,S;AAsEpB,eAAeK,KAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { observer, inject } from \"mobx-react\";\r\n\r\n@inject(\"store\")\r\n@observer\r\nclass LogIn extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      User: { Name: \"\", Password: \"\" },\r\n      message: { text: \"\", show: false },\r\n      redirectTo: null\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let logIn = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (logIn) {\r\n      this.setState({\r\n        redirectTo: \"/home\"\r\n      });\r\n    }\r\n  }\r\n  getInfo = event => {\r\n    let user = this.state.User;\r\n    user[event.target.name] = event.target.value;\r\n    this.setState({\r\n      User: user\r\n    });\r\n  };\r\n  logInUser = () => {\r\n    let answe = this.props.store.userLogIn(this.state.User).then(data => {\r\n      if (data === true) {\r\n        this.props.getProducts();\r\n        this.props.getUsers();\r\n        this.setState({\r\n          redirectTo: \"/home\"\r\n        });\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n  render() {\r\n    if (this.state.redirectTo === null) {\r\n      return (\r\n        <div className=\"Login\">\r\n          <div className=\"Login1\">\r\n            <div className=\"Login-header\">\r\n              <Link to=\"/\">\r\n                <span className=\"register-link\">register</span>\r\n              </Link>\r\n            </div>\r\n            <input\r\n              onChange={event => {\r\n                this.getInfo(event);\r\n              }}\r\n              name=\"Name\"\r\n              placeholder=\"name\"\r\n            />\r\n            <input\r\n              onChange={event => {\r\n                this.getInfo(event);\r\n              }}\r\n              name=\"Password\"\r\n              placeholder=\"Password\"\r\n            />\r\n            <button onClick={this.logInUser}>log in</button>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <Redirect to={{ pathname: this.state.redirectTo }} />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default LogIn;\r\n"]},"metadata":{},"sourceType":"module"}